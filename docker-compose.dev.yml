version: '3.8'

services:
  pdf-processor-dev:
    build: 
      context: .
      dockerfile: Dockerfile
    container_name: ogos_pdf_processor_dev
    ports:
      - "8001:8000"
    volumes:
      # Mount entire project for hot reload
      - .:/app
      # Exclude virtual environments
      - /app/venv
      - /app/.venv
    environment:
      - API_TITLE=PDF Dieline Processor (Dev)
      - API_VERSION=1.0.0-dev
      - API_DESCRIPTION=Development environment for PDF Dieline Processor
      - CORS_ORIGINS=["*"]
      - MAX_FILE_SIZE=104857600  # 100MB for dev
      - PYTHONUNBUFFERED=1
      - LOG_LEVEL=DEBUG
    command: uvicorn main:app --host 0.0.0.0 --port 8000 --reload --log-level debug
    stdin_open: true
    tty: true